---
title: '04-10 5.5 Operation on Strings'
author: "蘇映璇"
date: "4/10/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(stringr)
```
#Subset 依條件篩選
#例如：選出course當中帶有“經濟學”的元素
```{r}
course <- c("個體經濟學","投資學","總體經濟學")
```
#str_subset(): 保留字串向量元素裡符合某種規律（pattern）的向量元素——會縮小向量長度。
```{r}
str_subset(course,"經濟學")
#從course中選出包含"經濟學"的物件
```
#str_detect()：偵測（detect）元素裡是否符合某種規律，若符合回TRUE, 不符合回FALSE
```{r}
str_detect(course,"經濟學")
#從course中"偵測"物件內是否包含"經濟學"
```
#利用str_sub()取出以下每位學生系別及入學年。
#str_sub():str_sub(string, start position, end position)
```{r}
#定義studentID
studentID<-c(
  '410177115','410176080','410174233','410177011','410182045','410176014')
#取出系別
系別<-str_sub(studentID,5,6)
系別
#取出入學年
入學年<-str_sub(studentID,2,4)
入學年
```

#Join 合併
#例如：將month和day合併成“3月11日”,“4月5日”,“2月7日”
```{r}
#定義month day
month <- c("3","4","2")
day <- c("11","5","7")
```
#str_c(): 多個字串向量的合併
```{r}
#定義char1 char2
char1 <- c("月","月","月")
char2 <- c("日","日","日")
month
char1
day 
char2
#將上述串成日期
str_c(month,char1,day,char2)#串接month,char1,day,char2四個物件
```

#可和上述有同樣結果
```{r}
str_c(month,c("月"),day,c("日"))
str_c(month,"月",day,"日")  #偷懶法
```
#進行字串向量合併時，我們也可以自行決定要不要加分隔（separation）符號：
```{r}
month
day
str_c(month,day, sep="-")#sep=separation
```
#Split：分割
#str_split(): 分割一個字串向量（後面章節再詳述）

```{r}
dates <- c("3-11", "4-5",  "2-7")
str_split(dates,"-")#以-作為分割點分割
```
#Replace: 取代
#str_replace()
```{r}
dates
str_replace(dates,"-","月")#將-以月取代
```
#str_replace_all()
```{r}
dates2 <- c("3-11-2019", "4-5-2017",  "2-7-2015")
dates2
str_replace(dates2,"-","/")
str_replace_all(dates2,"-","/")#將"所有"-取代成/
```

每個GitHub repo都有一個固定的網址型式，如： https://github.com/tpemartin/107-2-inclass-practice 其中：

tpemartin: username

107-2-inclass-practice: repo name
#執行以下程式引入資料
```{r}
library(readr)
githubData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/githubData.csv")
username <- githubData$`GitHub username`[11:16]
reponame <- githubData$`GitHub repo name`[11:16]
```
#將username與reponame合併成Github repo網址。
```{r}
str_c("https://github.com",username,reponame,sep="/")
```

